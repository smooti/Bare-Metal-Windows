{
    "builders": [
        {
            "type": "vmware-iso",
            "boot_command": "",
            "boot_wait": "6m",
            "communicator": "winrm",
            "cpus": 2,
            "disk_adapter_type": "lsisas1068",
            "disk_size": "{{user `disk_size`}}",
            "disk_type_id": "{{user `disk_type_id`}}",
            "floppy_files": [
                "{{user `autounattend`}}",
				"./Scripts/Set-NetworkTypeToPrivate.ps1",
				"./Scripts/ConfigureWinRM.ps1",
                "./Scripts/Enable-Updates.bat",
				"./Scripts/Get-Updates.ps1"
            ],
            "guest_os_type": "windows9-64",
            "headless": "{{user `headless`}}",
            "iso_checksum": "{{user `iso_checksum`}}",
            "iso_url": "{{user `iso_url`}}",
            "memory": "{{user `memory`}}",
            "shutdown_command": "shutdown /s /t 10 /f /d p:4:1 /c \"Packer Shutdown\"",
            "version": "{{user `vmx_version`}}",
            "vm_name": "{{user `vm_name`}}",
            "vmx_data": {
                "RemoteDisplay.vnc.enabled": "false",
                "RemoteDisplay.vnc.port": "5900"
            },
            "vmx_remove_ethernet_interfaces": true,
            "vnc_port_max": 5980,
            "vnc_port_min": 5900,
            "winrm_password": "{{user `winrm_password`}}",
            "winrm_timeout": "{{user `winrm_timeout`}}",
            "winrm_username": "{{user `winrm_username`}}"
        }
    ],
    "provisioners": [
        {
            "scripts": [
                "./Scripts/Install-vmWareTools.ps1"
            ],
            "type": "powershell"
        },
        {
            "restart_timeout": "{{user `restart_timeout`}}",
            "type": "windows-restart"
        }
    ],
    "post-processors": [
        {
            "keep_input_artifact": false,
            "output": "windows_10_{{.Provider}}.box",
            "type": "vagrant",
            "vagrantfile_template": "VagrantFile"
        }
    ],
    "variables": {
        "winrm_username": "sap_admin",
        "winrm_password": "1qaz2wsx!QAZ@WSX",
        "autounattend": "./AnswerFiles/10/Autounattend.xml",
        "disk_size": "61440",
        "disk_type_id": "1",
        "memory": "2048",
        "headless": "false",
        "iso_checksum": "sha256:2FD924BF87B94D2C4E9F94D39A57721AF9D986503F63D825E98CEE1F06C34F68",
        "iso_url": "./Distros/Win10_21H2_x64_English.ISO",
        "restart_timeout": "5m",
        "vhv_enable": "false",
        "virtio_win_iso": "./VirtDrivers/virtio-win-0.1.225.iso",
        "vm_name": "windows_10",
        "winrm_timeout": "6h",
        "vmx_version": "14"
    }
}
